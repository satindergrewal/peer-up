# Client Node Configuration
# This node runs on your phone or laptop
# It connects to the home node via the relay server

identity:
  # Path to the key file for persistent peer identity
  # Leave empty or comment out for ephemeral identity (new key each run)
  # Set a path if you want persistent client identity
  key_file: ""

network:
  # Addresses to listen on for incoming connections
  # Port 0 means ephemeral (randomly assigned by OS)
  listen_addresses:
    - "/ip4/0.0.0.0/tcp/0"
    - "/ip4/0.0.0.0/udp/0/quic-v1"
    - "/ip6/::/tcp/0"
    - "/ip6/::/udp/0/quic-v1"

  # Force private reachability (usually false for clients)
  # Set to true if you're behind strict NAT
  force_private_reachability: false

relay:
  # Addresses of relay servers (MUST match home node config)
  # Format: /ip4/<IP>/tcp/<PORT>/p2p/<RELAY_PEER_ID>
  addresses:
    - "/ip4/YOUR_VPS_IP/tcp/7777/p2p/YOUR_RELAY_PEER_ID"
    # - "/ip6/YOUR_VPS_IPV6/tcp/7777/p2p/YOUR_RELAY_PEER_ID"

  # Reservation interval (clients typically don't make reservations)
  reservation_interval: "2m"

discovery:
  # Rendezvous string (MUST match home node config)
  rendezvous: "my-private-p2p-network"

  # Optional: Custom bootstrap peers for DHT
  # Leave empty to use libp2p default bootstrap peers
  bootstrap_peers: []

security:
  # Path to authorized_keys file
  # Should contain the home node's peer ID
  authorized_keys_file: "authorized_keys"

  # Enable connection gating
  # When enabled, only authorized peers (home node) can connect to you
  enable_connection_gating: true

protocols:
  # Ping-pong protocol configuration
  ping_pong:
    enabled: true
    id: "/pingpong/1.0.0"

# Name Resolution (Phase 4+)
# Map friendly names to peer IDs for easy connection
names:
  # Example: Map "home" to your home node's peer ID
  # home: "12D3KooWLCavCP1Pma9NGJQnGDQhgwSjgQgupWprZJH4w1P3HCVL"
  #
  # Then connect using the name:
  # net.ConnectToService("home", "ssh")
